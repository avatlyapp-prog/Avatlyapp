<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Avatly</title>
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- Toast consigli/meteo -->
  <div id="toast" class="toast" aria-live="polite"></div>
  <button id="weatherChip" class="weather-chip" title="Meteo"><span>22¬∞</span></button>

  <!-- CONTENUTO -->
  <main id="app">

    <!-- HOME (splash semplice) -->
    <section id="view-home" class="view visible">
      <h1 class="brand">Avatly</h1>
      <p class="lead">Organizza il tuo guardaroba, crea outfit e lascia che l‚ÄôAI ti consigli cosa indossare.</p>
    </section>

    <!-- ARMADIO: manichino + categorie + griglia -->
    <section id="view-wardrobe" class="view">
      <div class="wardrobe-layout">
        <!-- colonna sinistra: avatar/manichino -->
        <aside class="avatar-panel">
          <div class="avatar-stage">
            <div class="avatar-stick" aria-label="avatar"></div>
          </div>
          <div class="avatar-actions">
            <button class="btn ghost" id="btnAvatar">Personalizza avatar</button>
          </div>
        </aside>

        <!-- colonna destra: categorie + filtro + griglia capi -->
        <section class="catalog-panel">
          <div class="cat-scroll" id="catScroll">
            <!-- chip categorie (scroll orizzontale) -->
            <button class="chip active" data-cat="tutti">Tutti</button>
            <button class="chip" data-cat="top">Top</button>
            <button class="chip" data-cat="pantaloni">Pantaloni</button>
            <button class="chip" data-cat="gonne">Gonne</button>
            <button class="chip" data-cat="vestiti">Vestiti</button>
            <button class="chip" data-cat="scarpe">Scarpe</button>
            <button class="chip" data-cat="borse">Borse</button>
            <button class="chip" data-cat="accessori">Accessori</button>
            <button class="chip" data-cat="+">+ Crea</button>
          </div>

          <div class="toolbar">
            <button id="btnFilter" class="btn">Filtra</button>
            <div class="toolbar-spacer"></div>
            <button id="btnNewItem" class="btn ghost">Aggiungi capo</button>
          </div>

          <div id="grid" class="grid">
            <!-- card capo (render via JS) -->
          </div>
        </section>
      </div>
    </section>

    <!-- AI -->
    <section id="view-ai" class="view">
      <h2>Consigli AI</h2>
      <p>Qui compariranno suggerimenti dinamici (meteo + occasioni) e outfit proposti.</p>
      <ul id="aiList" class="list"></ul>
    </section>

    <!-- CALENDARIO -->
    <section id="view-cal" class="view">
      <h2>Calendario</h2>
      <p>Collega eventi e prepara outfit per data/occasione.</p>
    </section>

    <!-- IMPOSTAZIONI -->
    <section id="view-settings" class="view">
      <h2>Impostazioni</h2>
      <label class="field">
        <span>Unit√† di misura</span>
        <select id="unitSel">
          <option value="metric">Metrico (cm, kg)</option>
          <option value="imperial">Imperiale (in, lb)</option>
        </select>
      </label>
      <label class="field">
        <span>Citt√† per meteo</span>
        <input id="cityInput" placeholder="Es. Milano" />
      </label>
      <button class="btn" id="btnSaveSettings">Salva</button>
    </section>

  </main>

  <!-- BOTTOM NAV -->
  <nav class="tabbar">
    <button class="tab" data-target="view-ai">‚ú¶<span>AI</span></button>
    <button class="tab active" data-target="view-wardrobe">üëó<span>Armadio</span></button>
    <button class="tab" data-target="view-home">üè†<span>Home</span></button>
    <button class="tab" data-target="view-cal">üìÖ<span>Calendario</span></button>
    <button class="tab" data-target="view-settings">‚öôÔ∏è<span>Impostazioni</span></button>
  </nav>

  <!-- Modale avatar (placeholder 2D ‚Äì Step A) -->
  <dialog id="avatarModal" class="modal">
    <form method="dialog" class="modal-body">
      <h3>Personalizza avatar</h3>
      <div class="fields-2">
        <label class="field"><span>Altezza (cm)</span><input id="heightInput" type="number" inputmode="numeric" /></label>
        <label class="field"><span>Peso (kg)</span><input id="weightInput" type="number" inputmode="numeric" /></label>
      </div>
      <label class="field">
        <span>Forma</span>
        <select id="shapeSel">
          <option value="diritta">Dritta</option>
          <option value="clessidra">Clessidra</option>
          <option value="pera">Pera</option>
          <option value="mela">Mela</option>
        </select>
      </label>
      <menu class="modal-actions">
        <button class="btn ghost" value="cancel">Annulla</button>
        <button class="btn" value="ok">Salva</button>
      </menu>
    </form>
  </dialog>

  <script src="app.js"></script>
</body>
</html>
