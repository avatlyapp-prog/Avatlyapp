<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Avatly</title>
  <link rel="manifest" href="manifest.webmanifest?v=4">
  <link rel="stylesheet" href="styles.css?v=4">
</head>
<body>
  <!-- Splash “Avatly” -->
  <div id="splash">
    <h1>Avatly</h1>
  </div>

  <!-- Header: meteo + toast messaggio -->
  <header class="topbar">
    <div class="toast" id="toast" aria-live="polite"></div>
    <button id="weatherBtn" class="weather-bubble" title="Meteo">
      <span class="wx-emoji">☁️</span><span class="wx-t">--°</span>
    </button>
  </header>

  <!-- Contenuto TAB -->
  <main>
    <!-- TAB 3: HOME (centrale) -->
    <section class="panel active" id="tab-home" role="tabpanel" aria-labelledby="btn-home">
      <div class="home-wrap">
        <button class="avatar-edit" id="btnEditAvatar" title="Personalizza avatar">⚙️</button>
        <div class="avatar-box" id="avatarBox" aria-label="Avatar">
          <!-- placeholder avatar -->
          <svg viewBox="0 0 120 200" class="avatar-svg" aria-hidden="true">
            <circle cx="60" cy="40" r="18" />
            <rect x="45" y="60" width="30" height="45" rx="6" />
            <rect x="42" y="105" width="36" height="55" rx="10" />
          </svg>
        </div>
        <p class="hint">Tocca ⚙️ per personalizzare</p>
      </div>
    </section>

    <!-- TAB 1: AI (suggerimenti outfit) -->
    <section class="panel" id="tab-ai" role="tabpanel" aria-labelledby="btn-ai">
      <h2 class="panel-title">Suggerimenti AI</h2>
      <div class="ai-actions">
        <button id="btnSuggest" class="primary">Genera outfit del giorno</button>
        <small>Usa meteo + categorie per proporre abbinamenti.</small>
      </div>
      <ul id="aiList" class="card-list"></ul>
    </section>

    <!-- TAB 2: ARMADIO (filtri a scorrimento + griglia capi) -->
    <section class="panel" id="tab-wardrobe" role="tabpanel" aria-labelledby="btn-wardrobe">
      <h2 class="panel-title">Armadio</h2>
      <div class="chips" id="chips">
        <!-- filtri a scorrimento -->
        <button class="chip active" data-cat="tutti">Tutti</button>
        <button class="chip" data-cat="top">Top</button>
        <button class="chip" data-cat="pantaloni">Pantaloni</button>
        <button class="chip" data-cat="gonne">Gonne</button>
        <button class="chip" data-cat="scarpe">Scarpe</button>
        <button class="chip" data-cat="accessori">Accessori</button>
        <button class="chip" data-cat="palestra">Palestra</button>
        <button class="chip" data-cat="outerwear">Cappotti</button>
        <button class="chip add" id="addCat">+ Crea</button>
      </div>

      <div class="tools-row">
        <input id="q" class="input" placeholder="Cerca: colore, categoria, note…" />
        <button id="addItem" class="secondary">+ Aggiungi capo</button>
      </div>

      <ul id="grid" class="grid"></ul>
    </section>

    <!-- TAB 4: CALENDARIO -->
    <section class="panel" id="tab-calendar" role="tabpanel" aria-labelledby="btn-calendar">
      <h2 class="panel-title">Calendario</h2>
      <p>Presto: pianifica outfit per eventi o viaggi.</p>
      <ul id="planList" class="card-list"></ul>
    </section>

    <!-- TAB 5: IMPOSTAZIONI -->
    <section class="panel" id="tab-settings" role="tabpanel" aria-labelledby="btn-settings">
      <h2 class="panel-title">Impostazioni</h2>
      <div class="settings">
        <label>Nome profilo <input id="profileName" class="input" placeholder="Es. Monelia"/></label>
        <label>Città (per meteo) <input id="city" class="input" placeholder="Es. Milano"/></label>
        <button id="saveSettings" class="primary">Salva</button>
        <hr/>
        <button id="exportData" class="secondary">Esporta dati</button>
        <button id="importData" class="secondary">Importa dati</button>
      </div>
    </section>
  </main>

  <!-- Bottom Navigation (come nello schizzo: 1..5) -->
  <nav class="bottombar" role="tablist" aria-label="Navigazione">
    <button class="tab-btn" id="btn-ai" data-tab="tab-ai" role="tab" aria-controls="tab-ai">✨<span>AI</span></button>
    <button class="tab-btn" id="btn-wardrobe" data-tab="tab-wardrobe" role="tab" aria-controls="tab-wardrobe">👗<span>Armadio</span></button>
    <button class="tab-btn active" id="btn-home" data-tab="tab-home" role="tab" aria-controls="tab-home">🏠<span>Home</span></button>
    <button class="tab-btn" id="btn-calendar" data-tab="tab-calendar" role="tab" aria-controls="tab-calendar">🗓️<span>Calendario</span></button>
    <button class="tab-btn" id="btn-settings" data-tab="tab-settings" role="tab" aria-controls="tab-settings">⚙️<span>Impostazioni</span></button>
  </nav>

  <script src="app.js?v=4"></script>
</body>
</html>
