/* ====================================================================== */
/* AVATLY — tema Bordeaux / Rosa                                           */
/* ====================================================================== */

:root{
  --bg: #5A1F2A;           /* bordeaux di base */
  --bg-soft: #6C2A36;
  --fg: #FFE7F0;            /* testo rosa chiarissimo */
  --muted: #EFC0CD;         /* testo secondario */
  --pill: rgba(255, 255, 255, .12);
  --card: rgba(255, 255, 255, .14);
  --accent: #FFD3E1;        /* pulsanti rosa */
  --dash: rgba(255,255,255,.55);
  --safe-bottom: env(safe-area-inset-bottom);
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html, body { height: 100%; }
body{
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI",
               Roboto, "Helvetica Neue", Arial, "Apple Color Emoji",
               "Segoe UI Emoji";
  color: var(--fg);
  background: var(--bg);
}

/* contenuto centrato e max width mobile */
.app, main {
  max-width: 520px;
  margin: 0 auto !important;
  position: relative;
}

/* Toast/meteo centrati e non “appiccicati” */
.toast, .weather-pill{
  position: relative;
  left: 50% !important;
  transform: translateX(-50%) !important;
  width: calc(100% - 24px) !important;
  max-width: 520px;
  margin: 12px auto 0 !important;
  z-index: 40;
}

/* Toast AI */
.toast{
  background: var(--card);
  border: 1.5px solid rgba(255,255,255,.25);
  padding: .75rem 1rem;
  border-radius: 14px;
  backdrop-filter: blur(4px);
}

/* Meteo pill a destra in alto (ma centrata in larghezza per iPhone) */
.weather-pill{
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .45rem .75rem;
  border-radius: 999px;
  background: var(--pill);
  border: 1px solid rgba(255,255,255,.15);
  float: right;
}
.weather-pill strong{ font-weight: 700; }

/* Stage avatar */
.avatar-stage{
  width: calc(100% - 24px);
  margin: 14px auto 18px auto;
  min-height: 360px;
  display: flex; align-items: center; justify-content: center;
  border-radius: 18px;
  background: linear-gradient(180deg, var(--bg-soft), var(--bg));
  position: relative;
}
.dotted{
  outline: 3px dashed var(--dash);
  outline-offset: -12px;
}

/* Testo di aiuto */
.hint{
  text-align: center;
  color: var(--muted);
  margin: 0 0 90px 0; /* spazio sopra la nav */
}
.hint .icon{ filter: drop-shadow(0 1px 0 rgba(0,0,0,.25)); }

/* Floating action button (personalizza) */
.fab{
  position: fixed;
  left: 16px;
  bottom: calc(86px + var(--safe-bottom));
  width: 56px; height: 56px;
  display: grid; place-items: center;
  border-radius: 16px;
  background: var(--card);
  color: var(--fg);
  border: 1px solid rgba(255,255,255,.2);
  box-shadow: 0 10px 24px rgba(0,0,0,.25);
  z-index: 60;
}

/* Bottom nav */
.bottom-nav{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  display: grid;
  grid-template-columns: repeat(5,1fr);
  gap: 2px;
  padding: 8px 6px calc(8px + var(--safe-bottom));
  background: rgba(0,0,0,.18);
  backdrop-filter: blur(10px);
  border-top: 1px solid rgba(255,255,255,.18);
  z-index: 70;
}
.bottom-nav .tab{
  display: grid;
  place-items: center;
  gap: 4px;
  background: transparent;
  color: var(--fg);
  border: none;
  padding: 6px 2px;
  border-radius: 10px;
  font-size: 13px;
}
.bottom-nav .tab span{ font-size: 18px; }
.bottom-nav .tab.active{
  background: rgba(255,255,255,.14);
}

/* Spazio sotto i contenuti per non coprire la nav */
main{
  padding-bottom: calc(92px + var(--safe-bottom));
}

/* MODALE */
.modal{
  width: calc(100% - 24px);
  max-width: 560px;
  border: 1px solid rgba(255,255,255,.2);
  border-radius: 18px;
  padding: 0;
  background: rgba(255,255,255,.14);
  color: var(--fg);
  backdrop-filter: blur(12px);
  left: 50%; transform: translateX(-50%);
  bottom: calc(92px + var(--safe-bottom) + 12px);
  top: auto;
}
.modal::backdrop{ background: rgba(0,0,0,.4); }

.modal-header{
  display: flex; align-items: center; gap: 10px;
  padding: 14px 18px;
  border-bottom: 1px solid rgba(255,255,255,.2);
}
.modal-header h3{
  margin: 0; font-size: 18px; font-weight: 800;
}
.modal-header .close{
  margin-left: auto; background: transparent; border: none;
  color: var(--fg); font-size: 18px;
}

.fields{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px 16px;
  padding: 16px 18px 8px 18px;
}
.fields .span2{ grid-column: span 2; }

label{ font-weight: 700; color: #FFEFF4; display: grid; gap: 6px; }

input, select{
  font-size: 18px;
  background: rgba(255,255,255,.96);
  color: #5A1F2A;
  border: 2px solid rgba(255,255,255,.8);
  border-radius: 12px;
  padding: .7rem .9rem;
  outline: none;
}
input::placeholder{ color: #9a6b77; }

.avatar-mini-wrap{
  display: grid; place-items: center;
  padding: 8px 0 0 0;
}

.modal-actions{
  display: flex; justify-content: flex-end; gap: 8px;
  padding: 14px 18px 18px 18px;
}
.btn-primary{
  background: var(--accent);
  color: #5A1F2A;
  font-weight: 800;
  border: none;
  border-radius: 12px;
  padding: .8rem 1.1rem;
}

/* Responsive piccolissimi */
@media (max-width: 360px){
  .fields{ grid-template-columns: 1fr; }
  .fields .span2{ grid-column: span 1; }
}
